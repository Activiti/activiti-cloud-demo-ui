require=function e(t,r,n){function i(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function u(){v&&d&&(v=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!v){var e=o(u);v=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,v=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,p,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}}();var d,y=[],v=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new c(e,t)),1!==y.length||v||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,r){!function(n,i){"object"==typeof r&&"undefined"!=typeof t?i(r,e("apollo-link")):"function"==typeof define&&define.amd?define(["exports","apollo-link"],i):i((n.apolloLink=n.apolloLink||{},n.apolloLink.dedup={}),n.apolloLink.core)}(this,function(e,t){"use strict";var r=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.inFlightRequestObservables=new Map,t.subscribers=new Map,t}return r(n,e),n.prototype.request=function(e,r){var n=this;if(e.getContext().forceFetch)return r(e);var i=e.toKey(),o=function(e){n.inFlightRequestObservables.delete(e);var t=n.subscribers.get(e);return t};if(!this.inFlightRequestObservables.get(i)){var a,u=r(e),s=new t.Observable(function(e){var t=n.subscribers.get(i);return t||(t={next:[],error:[],complete:[]}),n.subscribers.set(i,{next:t.next.concat([e.next.bind(e)]),error:t.error.concat([e.error.bind(e)]),complete:t.complete.concat([e.complete.bind(e)])}),a||(a=u.subscribe({next:function(e){var t=o(i);n.subscribers.delete(i),t&&(t.next.forEach(function(t){return t(e)}),t.complete.forEach(function(e){return e()}))},error:function(e){var t=o(i);n.subscribers.delete(i),t&&t.error.forEach(function(t){return t(e)})}})),function(){a&&a.unsubscribe(),n.inFlightRequestObservables.delete(i)}});this.inFlightRequestObservables.set(i,s)}return this.inFlightRequestObservables.get(i)},n}(t.ApolloLink);e.DedupLink=n,Object.defineProperty(e,"__esModule",{value:!0})})},{"apollo-link":3}],3:[function(e,t,r){!function(n,i){"object"==typeof r&&"undefined"!=typeof t?i(r,e("apollo-utilities"),e("zen-observable"),e("graphql/language/printer")):"function"==typeof define&&define.amd?define(["exports","apollo-utilities","zen-observable","graphql/language/printer"],i):i((n.apolloLink=n.apolloLink||{},n.apolloLink.core={}),n.apollo.utilities,n.Observable,n.printer)}(this,function(e,t,r,n){"use strict";function i(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw new Error("illegal argument: "+i)}return e}function o(e){return e.request.length<=1}function a(e){var t=!1;return new Promise(function(r,n){e.subscribe({next:function(e){t?console.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,r(e))},error:n})})}function u(e){return new r(function(t){e.then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})}function s(e){var r={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return r.operationName||(r.operationName="string"!=typeof r.query?t.getOperationName(r.query):""),r}function c(e,t){var r=h({},e),n=function(e){r="function"==typeof e?h({},r,e(r)):h({},r,e)},i=function(){return h({},r)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:n}),Object.defineProperty(t,"getContext",{enumerable:!1,value:i}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return l(t)}}),t}function l(e){return n.print(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName}function f(e,t){return e.request(c(t.context,s(i(t))))||r.of()}var p=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},d=function(e){function t(t,r){var n=e.call(this,t)||this;return n.link=r,n}return p(t,e),t}(Error),y=a,v=function(e,t){return t?t(e):r.of()},m=function(e){return"function"==typeof e?new Q(e):e},b=function(){return new Q(function(e,t){return r.of()})},g=function(e){return 0===e.length?b():e.map(m).reduce(function(e,t){return e.concat(t)})},w=function(e,t,n){void 0===n&&(n=new Q(v));var i=m(t),a=m(n);return new Q(o(i)&&o(a)?function(t){return e(t)?i.request(t)||r.of():a.request(t)||r.of()}:function(t,n){return e(t)?i.request(t,n)||r.of():a.request(t,n)||r.of()})},k=function(e,t){var n=m(e);if(o(n))return console.warn(new d("You are calling concat on a terminating link, which will have no effect",n)),n;var i=m(t);return new Q(o(i)?function(e){return n.request(e,function(e){return i.request(e)||r.of()})||r.of()}:function(e,t){return n.request(e,function(e){return i.request(e,t)||r.of()})||r.of()})},Q=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,r,n){return void 0===n&&(n=new e(v)),this.concat(w(t,r,n))},e.prototype.concat=function(e){return k(this,e)},e.prototype.request=function(e,t){throw new Error("request is not implemented")},e.empty=b,e.from=g,e.split=w,e.execute=f,e}();e.Observable=r,e.createOperation=c,e.makePromise=y,e.toPromise=a,e.fromPromise=u,e.empty=b,e.from=g,e.split=w,e.concat=k,e.ApolloLink=Q,e.execute=f,Object.defineProperty(e,"__esModule",{value:!0})})},{"apollo-utilities":4,"graphql/language/printer":5,"zen-observable":9}],4:[function(e,t,r){(function(e){!function(e,n){"object"==typeof r&&"undefined"!=typeof t?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n((e.apollo=e.apollo||{},e.apollo.utilities={}))}(this,function(t){"use strict";function r(e){return["StringValue","BooleanValue","EnumValue"].indexOf(e.kind)>-1}function n(e){return["IntValue","FloatValue"].indexOf(e.kind)>-1}function i(e){return"StringValue"===e.kind}function o(e){return"BooleanValue"===e.kind}function a(e){return"IntValue"===e.kind}function u(e){return"FloatValue"===e.kind}function s(e){return"Variable"===e.kind}function c(e){return"ObjectValue"===e.kind}function l(e){return"ListValue"===e.kind}function f(e){return"EnumValue"===e.kind}function p(e){return"NullValue"===e.kind}function h(e,t,r,n){if(a(r)||u(r))e[t.value]=Number(r.value);else if(o(r)||i(r))e[t.value]=r.value;else if(c(r)){var d={};r.fields.map(function(e){return h(d,e.name,e.value,n)}),e[t.value]=d}else if(s(r)){var y=(n||{})[r.name.value];e[t.value]=y}else if(l(r))e[t.value]=r.values.map(function(e){var r={};return h(r,t,e,n),r[t.value]});else if(f(r))e[t.value]=r.value;else{if(!p(r))throw new Error('The inline argument "'+t.value+'" of kind "'+r.kind+'" is not supported.\n                    Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}function d(e,t){var r=null;e.directives&&(r={},e.directives.forEach(function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach(function(n){var i=n.name,o=n.value;return h(r[e.name.value],i,o,t)})}));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach(function(e){var r=e.name,i=e.value;return h(n,r,i,t)})),y(e.name.value,n,r)}function y(e,t,r){if(r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i=t,o={};return n.forEach(function(e){o[e]=i[e]}),r.connection.key+"("+JSON.stringify(o)+")"}return r.connection.key}var a=e;if(t){var u=JSON.stringify(t);a+="("+u+")"}return r&&Object.keys(r).forEach(function(e){he.indexOf(e)===-1&&(a+=r[e]&&Object.keys(r[e]).length?"@"+e+"("+JSON.stringify(r[e])+")":"@"+e)}),a}function v(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(e){var n=e.name,i=e.value;return h(r,n,i,t)}),r}return null}function m(e){return e.alias?e.alias.value:e.name.value}function b(e){return"Field"===e.kind}function g(e){return"InlineFragment"===e.kind}function w(e){return e&&"id"===e.type}function k(e,t){return void 0===t&&(t=!1),{type:"id",id:e,generated:t}}function Q(e){return null!=e&&"object"==typeof e&&"json"===e.type}function O(e){throw new Error("Variable nodes are not supported by valueFromNode")}function q(e,t){switch(void 0===t&&(t=O),e.kind){case"Variable":return t(e);case"NullValue":return null;case"IntValue":return parseInt(e.value);case"FloatValue":return parseFloat(e.value);case"ListValue":return e.values.map(function(e){return q(e,t)});case"ObjectValue":for(var r={},n=0,i=e.fields;n<i.length;n++){var o=i[n];r[o.name.value]=q(o.value,t)}return r;default:return e.value}}function E(e,t){if(e.directives&&e.directives.length){var r={};return e.directives.forEach(function(e){r[e.name.value]=v(e,t)}),r}return null}function S(e,t){if(void 0===t&&(t={}),!e.directives)return!0;var r=!0;return e.directives.forEach(function(e){if("skip"===e.name.value||"include"===e.name.value){var n=e.arguments||[],i=e.name.value;if(1!==n.length)throw new Error("Incorrect number of arguments for the @"+i+" directive.");var o=n[0];if(!o.name||"if"!==o.name.value)throw new Error("Invalid argument for the @"+i+" directive.");var a=n[0].value,u=!1;if(a&&"BooleanValue"===a.kind)u=a.value;else{if("Variable"!==a.kind)throw new Error("Argument for the @"+i+" directive must be a variable or a boolean value.");if(u=t[a.name.value],void 0===u)throw new Error("Invalid variable referenced in @"+i+" directive.")}"skip"===i&&(u=!u),u||(r=!1)}}),r}function P(e){return e.selectionSet&&e.selectionSet.selections.length>0?[e].concat(e.selectionSet.selections.map(function(e){return[e].concat(P(e))}).reduce(function(e,t){return e.concat(t)},[])):[e]}function D(e){var t=de.get(e);if(t)return t;var r=e.definitions.filter(function(e){return e.selectionSet&&e.selectionSet.selections}).map(function(e){return P(e)}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e.directives&&e.directives.length>0}).map(function(e){return e.directives}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.name.value});return de.set(e,r),r}function F(e,t){return D(t).some(function(t){return e.indexOf(t)>-1})}function I(e,t){var r=t,n=[];if(e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new Error("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&n.push(e)}),"undefined"==typeof r){if(1!==n.length)throw new Error("Found "+n.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.");r=n[0].name.value}var i=ye({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}].concat(e.definitions)});return i}function _(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){"undefined"!=typeof t&&null!==t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e}function T(e){x(e);var t=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})[0];if(!t)throw new Error("Must contain a mutation definition.");return t}function x(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new Error('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});if(t.length>1)throw new Error("Ambiguous GraphQL document: contains "+t.length+" operations")}function M(e){return x(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function j(e){var t=M(e);if(!t)throw new Error("GraphQL document is missing an operation");return t}function L(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function N(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function R(e){var t=M(e);if(!t||"query"!==t.operation)throw new Error("Must contain a query definition.");return t}function V(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');if(e.definitions.length>1)throw new Error("Fragment must have exactly one definition.");var t=e.definitions[0];if("FragmentDefinition"!==t.kind)throw new Error("Must be a fragment definition.");return t}function C(e){x(e);for(var t,r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new Error("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function A(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function B(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){var t=e.defaultValue;return t}).map(function(e){var t=e.variable,r=e.defaultValue,n={};return h(n,t.name,r),n});return _.apply(void 0,[{}].concat(t))}return{}}function U(e){var t=new Set;if(e.variableDefinitions)for(var r=0,n=e.variableDefinitions;r<n.length;r++){var i=n[r];t.add(i.variable.name.value)}return t}function H(e){if(Array.isArray(e))return e.map(function(e){return H(e)});if(null!==e&&"object"==typeof e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=H(e[r]));return t}return e}function z(e,t){return e.selectionSet.selections.filter(function(e){return!(e&&"FragmentSpread"===e.kind&&!z(t[e.name.value],t))}).length>0}function G(e){return function(t){return e.some(function(e){return!(!e.name||e.name!==t.name.value)||!(!e.test||!e.test(t))})}}function K(e,t){if(void 0===t&&(t=!1),e.selections){if(!t){var r=e.selections.some(function(e){return"Field"===e.kind&&"__typename"===e.name.value});r||e.selections.push(ve)}e.selections.forEach(function(e){"Field"===e.kind?0!==e.name.value.lastIndexOf("__",0)&&e.selectionSet&&K(e.selectionSet):"InlineFragment"===e.kind&&e.selectionSet&&K(e.selectionSet)})}}function J(e,t){if(!t.selections)return t;var r=e.some(function(e){return e.remove});return t.selections=t.selections.map(function(t){if("Field"!==t.kind||!t||!t.directives)return t;var n,i=G(e);return t.directives=t.directives.filter(function(e){var t=!i(e);return n||t||!r||(n=!0),t}),n?null:t}).filter(function(e){return!!e}),t.selections.forEach(function(t){"Field"!==t.kind&&"InlineFragment"!==t.kind||!t.selectionSet||J(e,t.selectionSet)}),t}function Y(e,t){var r=H(t);r.definitions.forEach(function(t){J(e,t.selectionSet)});var n=j(r),i=A(N(r));return z(n,i)?r:null}function W(e){x(e);var t=me.get(e);if(t)return t;var r=H(e);return r.definitions.forEach(function(e){var t="OperationDefinition"===e.kind;K(e.selectionSet,t)}),me.set(e,r),r}function $(e){x(e);var t=ge.get(e);if(t)return t;var r=Y([be],e);return ge.set(e,r),r}function X(e,t,r){if(void 0===r&&(r=!0),!t||!t.selections)return!1;var n=t.selections.filter(function(t){return Z(e,t,r)});return n.length>0}function Z(e,t,r){if(void 0===r&&(r=!0),"Field"!==t.kind||!t)return!0;if(!t.directives)return!1;var n=G(e),i=t.directives.filter(n);return i.length>0||r&&X(e,t.selectionSet,r)}function ee(e,t){return t.selections=t.selections.filter(function(t){return Z(e,t,!0)}).map(function(t){return Z(e,t,!1)?t:("Field"!==t.kind&&"InlineFragment"!==t.kind||!t.selectionSet||(t.selectionSet=ee(e,t.selectionSet)),t)}),t}function te(e,t){x(t);var r=H(t);r.definitions=r.definitions.map(function(t){return"OperationDefinition"!==t.kind&&"FragmentDefinition"!==t.kind||!t.selectionSet||(t.selectionSet=ee(e,t.selectionSet)),t});var n=j(r),i=A(N(r));return z(n,i)?r:null}function re(){return"undefined"!=typeof e&&e.env.NODE_ENV?e.env.NODE_ENV:"development"}function ne(e){return re()===e}function ie(){return ne("production")===!0}function oe(){return ne("development")===!0}function ae(){return ne("test")===!0}function ue(e){try{return e()}catch(e){console.error&&console.error(e)}}function se(e){return e.errors&&e.errors.length}function ce(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(null!=e&&"object"==typeof e&&null!=t&&"object"==typeof t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(!Object.prototype.hasOwnProperty.call(t,r))return!1;if(!ce(e[r],t[r]))return!1}for(var r in t)if(!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}return!1}function le(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){!e.hasOwnProperty(t)||null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||Object.isFrozen(e[t])||le(e[t])}),e}function fe(e){return oe()||ae()?le(e):e}function pe(e,t){if(void 0===t&&(t="warn"),!ie()&&!we[e])switch(ae()||(we[e]=!0),t){case"error":console.error(e);break;default:console.warn(e)}}var he=["connection","include","skip","client","rest","export"],de=new Map,ye=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ve={kind:"Field",name:{kind:"Name",value:"__typename"}},me=new Map,be={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||console.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}},ge=new Map,we=Object.create({});t.getDirectiveInfoFromField=E,t.shouldInclude=S,t.flattenSelections=P,t.getDirectiveNames=D,t.hasDirectives=F,t.getFragmentQueryDocument=I,t.getMutationDefinition=T,t.checkDocument=x,t.getOperationDefinition=M,t.getOperationDefinitionOrDie=j,t.getOperationName=L,t.getFragmentDefinitions=N,t.getQueryDefinition=R,t.getFragmentDefinition=V,t.getMainDefinition=C,t.createFragmentMap=A,t.getDefaultValues=B,t.variablesInOperation=U,t.removeDirectivesFromDocument=Y,t.addTypenameToDocument=W,t.removeConnectionDirectiveFromDocument=$,t.getDirectivesFromDocument=te,t.isScalarValue=r,t.isNumberValue=n,t.valueToObjectRepresentation=h,t.storeKeyNameFromField=d,t.getStoreKeyName=y,t.argumentsObjectFromField=v,t.resultKeyNameFromField=m,t.isField=b,t.isInlineFragment=g,t.isIdValue=w,t.toIdValue=k,t.isJsonValue=Q,t.valueFromNode=q,t.assign=_,t.cloneDeep=H,t.getEnv=re,t.isEnv=ne,t.isProduction=ie,t.isDevelopment=oe,t.isTest=ae,t.tryFunctionOrLogError=ue,t.graphQLResultHasError=se,t.isEqual=ce,t.maybeDeepFreeze=fe,t.warnOnceInDevelopment=pe,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,e("_process"))},{_process:1}],5:[function(e,t,r){"use strict";function n(e){return(0,c.visit)(e,{leave:l})}function i(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function o(e){return e&&0!==e.length?u("{\n"+i(e,"\n"))+"\n}":""}function a(e,t,r){return t?e+t+(r||""):""}function u(e){return e&&e.replace(/\n/g,"\n  ")}function s(e,t){return" "!==e[0]&&"\t"!==e[0]||e.indexOf("\n")!==-1?t?'"""\n'+e.replace(/"""/g,'\\"""')+'\n"""':u('"""\n'+e.replace(/"""/g,'\\"""'))+'\n"""':'"""'+e.replace(/"""/g,'\\"""')+'"""'}Object.defineProperty(r,"__esModule",{value:!0}),r.print=n;var c=e("./visitor"),l={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return i(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=a("(",i(e.variableDefinitions,", "),")"),o=i(e.directives," "),u=e.selectionSet;return r||o||n||"query"!==t?i([t,i([r,n]),o,u]," "):u},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue;return t+": "+r+a(" = ",n)},SelectionSet:function(e){var t=e.selections;return o(t)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,o=e.directives,u=e.selectionSet;return i([a("",t,": ")+r+a("(",i(n,", "),")"),i(o," "),u]," ")},Argument:function(e){var t=e.name,r=e.value;return t+": "+r},FragmentSpread:function(e){var t=e.name,r=e.directives;return"..."+t+a(" ",i(r," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return i(["...",a("on ",t),i(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,o=e.directives,u=e.selectionSet;return"fragment "+t+a("(",i(n,", "),")")+" "+("on "+r+" "+a("",i(o," ")," "))+u},IntValue:function(e){var t=e.value;return t},FloatValue:function(e){var t=e.value;return t},StringValue:function(e,t){var r=e.value,n=e.block;return n?s(r,"description"===t):JSON.stringify(r)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},NullValue:function(){return"null"},EnumValue:function(e){var t=e.value;return t},ListValue:function(e){var t=e.values;return"["+i(t,", ")+"]"},ObjectValue:function(e){var t=e.fields;return"{"+i(t,", ")+"}"},ObjectField:function(e){var t=e.name,r=e.value;return t+": "+r},Directive:function(e){var t=e.name,r=e.arguments;return"@"+t+a("(",i(r,", "),")")},NamedType:function(e){var t=e.name;return t},ListType:function(e){var t=e.type;return"["+t+"]"},NonNullType:function(e){var t=e.type;return t+"!"},SchemaDefinition:function(e){var t=e.directives,r=e.operationTypes;return i(["schema",i(t," "),o(r)]," ")},OperationTypeDefinition:function(e){var t=e.operation,r=e.type;return t+": "+r},ScalarTypeDefinition:function(e){var t=e.description,r=e.name,n=e.directives;return i([t,i(["scalar",r,i(n," ")]," ")],"\n")},ObjectTypeDefinition:function(e){var t=e.description,r=e.name,n=e.interfaces,u=e.directives,s=e.fields;return i([t,i(["type",r,a("implements ",i(n,", ")),i(u," "),o(s)]," ")],"\n")},FieldDefinition:function(e){var t=e.description,r=e.name,n=e.arguments,o=e.type,u=e.directives;return i([t,r+a("(",i(n,", "),")")+": "+o+a(" ",i(u," "))],"\n")},InputValueDefinition:function(e){var t=e.description,r=e.name,n=e.type,o=e.defaultValue,u=e.directives;return i([t,i([r+": "+n,a("= ",o),i(u," ")]," ")],"\n")},InterfaceTypeDefinition:function(e){var t=e.description,r=e.name,n=e.directives,a=e.fields;return i([t,i(["interface",r,i(n," "),o(a)]," ")],"\n")},UnionTypeDefinition:function(e){var t=e.description,r=e.name,n=e.directives,o=e.types;return i([t,i(["union",r,i(n," "),o&&0!==o.length?"= "+i(o," | "):""]," ")],"\n")},EnumTypeDefinition:function(e){var t=e.description,r=e.name,n=e.directives,a=e.values;return i([t,i(["enum",r,i(n," "),o(a)]," ")],"\n")},EnumValueDefinition:function(e){var t=e.description,r=e.name,n=e.directives;return i([t,i([r,i(n," ")]," ")],"\n")},InputObjectTypeDefinition:function(e){var t=e.description,r=e.name,n=e.directives,a=e.fields;return i([t,i(["input",r,i(n," "),o(a)]," ")],"\n")},ScalarTypeExtension:function(e){var t=e.name,r=e.directives;return i(["extend scalar",t,i(r," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,u=e.fields;return i(["extend type",t,a("implements ",i(r,", ")),i(n," "),o(u)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return i(["extend interface",t,i(r," "),o(n)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return i(["extend union",t,i(r," "),n&&0!==n.length?"= "+i(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return i(["extend enum",t,i(r," "),o(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return i(["extend input",t,i(r," "),o(n)]," ")},DirectiveDefinition:function(e){var t=e.description,r=e.name,n=e.arguments,o=e.locations;return i([t,"directive @"+r+a("(",i(n,", "),")")+" on "+i(o," | ")],"\n")}}},{"./visitor":6}],6:[function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,n=void 0,o=Array.isArray(e),a=[e],l=-1,f=[],p=void 0,h=void 0,d=void 0,y=[],v=[],m=e;do{l++;var b=l===a.length,g=b&&0!==f.length;if(b){if(h=0===v.length?void 0:y[y.length-1],p=d,d=v.pop(),g){if(o)p=p.slice();else{var w={};for(var k in p)p.hasOwnProperty(k)&&(w[k]=p[k]);p=w}for(var Q=0,O=0;O<f.length;O++){var q=f[O][0],E=f[O][1];o&&(q-=Q),o&&null===E?(p.splice(q,1),Q++):p[q]=E}}l=n.index,a=n.keys,f=n.edits,o=n.inArray,n=n.prev}else{if(h=d?o?l:a[l]:void 0,p=d?d[h]:m,null===p||void 0===p)continue;d&&y.push(h)}var S=void 0;if(!Array.isArray(p)){if(!i(p))throw new Error("Invalid AST Node: "+JSON.stringify(p));var P=u(t,p.kind,b);if(P){if(S=P.call(t,p,h,d,y,v),S===c)break;if(S===!1){if(!b){y.pop();continue}}else if(void 0!==S&&(f.push([h,S]),!b)){if(!i(S)){y.pop();continue}p=S}}}void 0===S&&g&&f.push([h,p]),b?y.pop():(n={inArray:o,index:l,keys:a,edits:f,prev:n},o=Array.isArray(p),a=o?p:r[p.kind]||[],l=-1,f=[],d&&v.push(d),d=p)}while(void 0!==n);return 0!==f.length&&(m=f[f.length-1][1]),m}function i(e){return Boolean(e&&"string"==typeof e.kind)}function o(e){var t=new Array(e.length);return{enter:function(r){for(var n=0;n<e.length;n++)if(!t[n]){var i=u(e[n],r.kind,!1);if(i){var o=i.apply(e[n],arguments);if(o===!1)t[n]=r;else if(o===c)t[n]=c;else if(void 0!==o)return o}}},leave:function(r){for(var n=0;n<e.length;n++)if(t[n])t[n]===r&&(t[n]=null);else{var i=u(e[n],r.kind,!0);if(i){var o=i.apply(e[n],arguments);if(o===c)t[n]=c;else if(void 0!==o&&o!==!1)return o}}}}}function a(e,t){return{enter:function(r){e.enter(r);var n=u(t,r.kind,!1);if(n){var o=n.apply(t,arguments);return void 0!==o&&(e.leave(r),i(o)&&e.enter(o)),o}},leave:function(r){var n=u(t,r.kind,!0),i=void 0;return n&&(i=n.apply(t,arguments)),e.leave(r),i}}}function u(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var i=r?n.leave:n.enter;if("function"==typeof i)return i}else{var o=r?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}Object.defineProperty(r,"__esModule",{value:!0}),r.visit=n,r.visitInParallel=o,r.visitWithTypeInfo=a,r.getVisitFn=u;var s=r.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},c=r.BREAK={}},{}],7:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o,a=e("./ponyfill.js"),u=i(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof t?t:Function("return this")();var s=(0,u.default)(o);r.default=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":8}],8:[function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],9:[function(e,t,r){t.exports=e("./zen-observable.js").Observable},{"./zen-observable.js":10}],10:[function(e,t,r){"use strict";!function(e,n){if("undefined"!=typeof r)e(r,t);else if("undefined"!=typeof self){var i="*"===n?self:n?self[n]={}:{};e(i,{exports:i})}}(function(e,t){function r(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function n(e){return r(e)?Symbol[e]:"@@"+e}function i(e){setTimeout(function(){throw e})}function o(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function a(e){var t=e.constructor;return void 0!==t&&(t=t[n("species")],null===t&&(t=void 0)),void 0!==t?t:d}function u(e,t){Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);n.enumerable=!1,Object.defineProperty(e,r,n)})}function s(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){i(e)}}}function c(e){return void 0===e._observer}function l(e){c(e)||(e._observer=void 0,s(e))}function f(e){return function(){e.unsubscribe()}}function p(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var r=o(e,"start");r&&r.call(e,this)}catch(e){i(e)}if(!c(this)){e=new h(this);try{var n=t.call(void 0,e);if(null!=n){if("function"==typeof n.unsubscribe)n=f(n);else if("function"!=typeof n)throw new TypeError(n+" is not a function");
this._cleanup=n}}catch(t){return void e.error(t)}c(this)&&s(this)}}function h(e){this._subscription=e}function d(e){if(!(this instanceof d))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),u(p.prototype={},{get closed(){return c(this)},unsubscribe:function(){l(this)}}),u(h.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var r=t._observer;try{var n=o(r,"next");n&&n.call(r,e)}catch(e){i(e)}}},error:function(e){var t=this._subscription;if(c(t))return void i(e);var r=t._observer;t._observer=void 0;try{var n=o(r,"error");if(!n)throw e;n.call(r,e)}catch(e){i(e)}s(t)},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var r=o(t,"complete");r&&r.call(t)}catch(e){i(e)}s(e)}}}),u(d.prototype,{subscribe:function(e){for(var t=[],r=1;r<arguments.length;++r)t.push(arguments[r]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new p(e,this._subscriber)},forEach:function(e){var t=this;return new Promise(function(r,n){return"function"!=typeof e?Promise.reject(new TypeError(e+" is not a function")):void t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var r=this._subscription;if(!r.closed)try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:r})})},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=a(this);return new r(function(r){return t.subscribe({next:function(t){if(!r.closed){try{t=e(t)}catch(e){return r.error(e)}r.next(t)}},error:function(e){r.error(e)},complete:function(){r.complete()}})})},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=a(this);return new r(function(r){return t.subscribe({next:function(t){if(!r.closed){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)}},error:function(e){r.error(e)},complete:function(){r.complete()}})})},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=a(this),n=arguments.length>1,i=!1,o=arguments[1],u=o;return new r(function(r){return t.subscribe({next:function(t){if(!r.closed){var o=!i;if(i=!0,!o||n)try{u=e(u,t)}catch(e){return r.error(e)}else u=t}},error:function(e){r.error(e)},complete:function(){return i||n?(r.next(u),void r.complete()):r.error(new TypeError("Cannot reduce an empty sequence"))}})})}}),Object.defineProperty(d.prototype,n("observable"),{value:function(){return this},writable:!0,configurable:!0}),u(d,{from:function(e){var t="function"==typeof this?this:d;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,n("observable"));if(i){var a=i.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t(function(e){return a.subscribe(e)})}if(r("iterator")&&(i=o(e,n("iterator"))))return new t(function(t){for(var r,n=i.call(e)[Symbol.iterator]();r=n.next(),!r.done;){var o=r.value;if(t.next(o),t.closed)return}t.complete()});if(Array.isArray(e))return new t(function(t){for(var r=0;r<e.length;++r)if(t.next(e[r]),t.closed)return;t.complete()});throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);var r="function"==typeof this?this:d;return new r(function(t){for(var r=0;r<e.length;++r)if(t.next(e[r]),t.closed)return;t.complete()})}}),Object.defineProperty(d,n("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(d,"extensions",{value:{observableSymbol:n("observable"),setHostReportError:function(e){i=e}}}),e.Observable=d},"*")},{}],"apollo-client":[function(e,t,r){!function(n,i){"object"==typeof r&&"undefined"!=typeof t?i(r,e("apollo-link"),e("symbol-observable"),e("apollo-utilities"),e("graphql/language/printer"),e("apollo-link-dedup")):"function"==typeof define&&define.amd?define(["exports","apollo-link","symbol-observable","apollo-utilities","graphql/language/printer","apollo-link-dedup"],i):i((n.apollo=n.apollo||{},n.apollo.core={}),n.apolloLink.core,n.$$observable,n.apollo.utilities,n.printer,n.apolloLink.dedup)}(this,function(e,t,r,n,i,o){"use strict";function a(e){return e<7}function u(e){return e.hasOwnProperty("graphQLErrors")}r=r&&r.hasOwnProperty("default")?r.default:r,function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(e.NetworkStatus||(e.NetworkStatus={}));var s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype[r]=function(){return this},t}(t.Observable),l=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(e){var t="";return Array.isArray(e.graphQLErrors)&&0!==e.graphQLErrors.length&&e.graphQLErrors.forEach(function(e){var r=e?e.message:"Error message not found.";t+="GraphQL error: "+r+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},p=function(e){function t(t){var r=t.graphQLErrors,n=t.networkError,i=t.errorMessage,o=t.extraInfo,a=e.call(this,i)||this;return a.graphQLErrors=r||[],a.networkError=n||null,i?a.message=i:a.message=f(a),a.extraInfo=o,a}return l(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(e.FetchType||(e.FetchType={}));var h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},y=function(e,t){return void 0===t&&(t="none"),e&&(e.graphQLErrors&&e.graphQLErrors.length>0&&"none"===t||e.networkError)},v=function(t){function r(e){var r=e.scheduler,n=e.options,i=e.shouldSubscribe,o=void 0===i||i,a=t.call(this,function(e){return a.onSubscribe(e)})||this;return a.isCurrentlyPolling=!1,a.isTornDown=!1,a.options=n,a.variables=n.variables||{},a.queryId=r.queryManager.generateQueryId(),a.shouldSubscribe=o,a.scheduler=r,a.queryManager=r.queryManager,a.observers=[],a.subscriptionHandles=[],a}return h(r,t),r.prototype.result=function(){var e=this;return new Promise(function(t,r){var n,i={next:function(r){t(r),e.observers.some(function(e){return e!==i})||e.queryManager.removeQuery(e.queryId),setTimeout(function(){n.unsubscribe()},0)},error:function(e){r(e)}};n=e.subscribe(i)})},r.prototype.currentResult=function(){if(this.isTornDown)return{data:this.lastError?{}:this.lastResult?this.lastResult.data:{},error:this.lastError,loading:!1,networkStatus:e.NetworkStatus.error};var t=this.queryManager.queryStore.get(this.queryId);if(y(t,this.options.errorPolicy))return{data:{},loading:!1,networkStatus:t.networkStatus,error:new p({graphQLErrors:t.graphQLErrors,networkError:t.networkError})};var r,n=this.queryManager.getCurrentQueryResult(this),i=n.data,o=n.partial,u=!t||t.networkStatus===e.NetworkStatus.loading,s="network-only"===this.options.fetchPolicy&&u||o&&"cache-only"!==this.options.fetchPolicy;r=t?t.networkStatus:s?e.NetworkStatus.loading:e.NetworkStatus.ready;var c={data:i,loading:a(r),networkStatus:r};if(t&&t.graphQLErrors&&"all"===this.options.errorPolicy&&(c.errors=t.graphQLErrors),!o){var l=!1;this.lastResult=d({},c,{stale:l})}return d({},c,{partial:o})},r.prototype.getLastResult=function(){return this.lastResult},r.prototype.getLastError=function(){return this.lastError},r.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastError,this.isTornDown=!1},r.prototype.refetch=function(t){if("cache-only"===this.options.fetchPolicy)return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."));n.isEqual(this.variables,t)||(this.variables=d({},this.variables,t)),n.isEqual(this.options.variables,this.variables)||(this.options.variables=d({},this.options.variables,this.variables));var r=d({},this.options,{fetchPolicy:"network-only"});return this.queryManager.fetchQuery(this.queryId,r,e.FetchType.refetch).then(function(e){return n.maybeDeepFreeze(e)})},r.prototype.fetchMore=function(t){var r=this;if(!t.updateQuery)throw new Error("updateQuery option is required. This function defines how to update the query data with the new results.");return Promise.resolve().then(function(){var n,i=r.queryManager.generateQueryId();return n=t.query?t:d({},r.options,t,{variables:d({},r.variables,t.variables)}),n.fetchPolicy="network-only",r.queryManager.fetchQuery(i,n,e.FetchType.normal,r.queryId)}).then(function(e){return r.updateQuery(function(r,n){var i=n.variables;return t.updateQuery(r,{fetchMoreResult:e.data,variables:i})}),e})},r.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(r){e.updateQuery&&t.updateQuery(function(t,n){var i=n.variables;return e.updateQuery(t,{subscriptionData:r,variables:i})})},error:function(t){return e.onError?void e.onError(t):void console.error("Unhandled GraphQL subscription error",t)}});return this.subscriptionHandles.push(r),function(){var e=t.subscriptionHandles.indexOf(r);e>=0&&(t.subscriptionHandles.splice(e,1),r.unsubscribe())}},r.prototype.setOptions=function(e){var t=this.options;this.options=d({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var r="network-only"!==t.fetchPolicy&&"network-only"===e.fetchPolicy||"cache-only"===t.fetchPolicy&&"cache-only"!==e.fetchPolicy||"standby"===t.fetchPolicy&&"standby"!==e.fetchPolicy||!1;return this.setVariables(this.options.variables,r,e.fetchResults)},r.prototype.setVariables=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0),this.isTornDown=!1;var i=d({},this.variables,e);return n.isEqual(i,this.variables)&&!t?0!==this.observers.length&&r?this.result():new Promise(function(e){return e()}):(this.lastVariables=this.variables,this.variables=i,this.options.variables=i,0===this.observers.length?new Promise(function(e){return e()}):this.queryManager.fetchQuery(this.queryId,d({},this.options,{variables:this.variables})).then(function(e){return n.maybeDeepFreeze(e)}))},r.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),r=t.previousResult,i=t.variables,o=t.document,a=n.tryFunctionOrLogError(function(){return e(r,{variables:i})});a&&(this.queryManager.dataStore.markUpdateQueryResult(o,i,a),this.queryManager.broadcastQueries())},r.prototype.stopPolling=function(){this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.options.pollInterval=void 0,this.isCurrentlyPolling=!1)},r.prototype.startPolling=function(e){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.options.pollInterval=e,this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)},r.prototype.onSubscribe=function(e){var t=this;return e._subscription&&e._subscription._observer&&!e._subscription._observer.error&&(e._subscription._observer.error=function(e){console.error("Unhandled error",e.message,e.stack)}),this.observers.push(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),1===this.observers.length&&this.setUpQuery(),function(){t.observers=t.observers.filter(function(t){return t!==e}),0===t.observers.length&&t.tearDownQuery()}},r.prototype.setUpQuery=function(){var e=this;if(this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)}var t={next:function(t){e.lastResult=t,e.observers.forEach(function(e){return e.next&&e.next(t)})},error:function(t){e.lastError=t,e.observers.forEach(function(e){return e.error&&e.error(t)})}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))},r.prototype.tearDownQuery=function(){this.isTornDown=!0,this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.subscriptionHandles.forEach(function(e){return e.unsubscribe()}),this.subscriptionHandles=[],this.queryManager.removeObservableQuery(this.queryId),this.queryManager.stopQuery(this.queryId),this.observers=[]},r}(c),m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},b=function(){function t(e){var t=e.queryManager,r=e.ssrMode;this.inFlightQueries={},this.registeredQueries={},this.intervalQueries={},this.pollingTimers={},this.ssrMode=!1,this.queryManager=t,this.ssrMode=r||!1}return t.prototype.checkInFlight=function(t){var r=this.queryManager.queryStore.get(t);return r&&r.networkStatus!==e.NetworkStatus.ready&&r.networkStatus!==e.NetworkStatus.error},t.prototype.fetchQuery=function(e,t,r){var n=this;return new Promise(function(i,o){n.queryManager.fetchQuery(e,t,r).then(function(e){i(e)}).catch(function(e){o(e)})})},t.prototype.startPollingQuery=function(e,t,r){if(!e.pollInterval)throw new Error("Attempted to start a polling query without a polling interval.");return this.ssrMode?t:(this.registeredQueries[t]=e,r&&this.queryManager.addQueryListener(t,r),this.addQueryOnInterval(t,e),t)},t.prototype.stopPollingQuery=function(e){delete this.registeredQueries[e]},t.prototype.fetchQueriesOnInterval=function(t){var r=this;this.intervalQueries[t]=this.intervalQueries[t].filter(function(n){if(!r.registeredQueries.hasOwnProperty(n)||r.registeredQueries[n].pollInterval!==t)return!1;if(r.checkInFlight(n))return!0;var i=r.registeredQueries[n],o=m({},i);return o.fetchPolicy="network-only",r.fetchQuery(n,o,e.FetchType.poll).catch(function(){}),!0}),0===this.intervalQueries[t].length&&(clearInterval(this.pollingTimers[t]),delete this.intervalQueries[t])},t.prototype.addQueryOnInterval=function(e,t){var r=this,n=t.pollInterval;if(!n)throw new Error("A poll interval is required to start polling query with id '"+e+"'.");this.intervalQueries.hasOwnProperty(n.toString())&&this.intervalQueries[n].length>0?this.intervalQueries[n].push(e):(this.intervalQueries[n]=[e],this.pollingTimers[n]=setInterval(function(){r.fetchQueriesOnInterval(n)},n))},t.prototype.registerPollingQuery=function(e){if(!e.pollInterval)throw new Error("Attempted to register a non-polling query with the scheduler.");return new v({scheduler:this,options:e})},t}(),g=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,r){this.store[e]={mutationString:t,variables:r||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var r=this.store[e];r&&(r.loading=!1,r.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},k=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initQuery=function(t){var r=this.store[t.queryId];if(r&&r.queryString!==t.queryString)throw new Error("Internal Error: may not update existing query string in store");var i=!1,o=null;t.storePreviousVariables&&r&&r.networkStatus!==e.NetworkStatus.loading&&(n.isEqual(r.variables,t.variables)||(i=!0,o=r.variables));var a;a=i?e.NetworkStatus.setVariables:t.isPoll?e.NetworkStatus.poll:t.isRefetch?e.NetworkStatus.refetch:e.NetworkStatus.loading;var u=[];r&&r.graphQLErrors&&(u=r.graphQLErrors),this.store[t.queryId]={queryString:t.queryString,document:t.document,variables:t.variables,previousVariables:o,networkError:null,graphQLErrors:u,networkStatus:a,metadata:t.metadata},"string"==typeof t.fetchMoreForQueryId&&(this.store[t.fetchMoreForQueryId].networkStatus=e.NetworkStatus.fetchMore)},t.prototype.markQueryResult=function(t,r,n){this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=r.errors&&r.errors.length?r.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=e.NetworkStatus.ready,"string"==typeof n&&(this.store[n].networkStatus=e.NetworkStatus.ready))},t.prototype.markQueryError=function(t,r,n){this.store[t]&&(this.store[t].networkError=r,this.store[t].networkStatus=e.NetworkStatus.error,"string"==typeof n&&this.markQueryError(n,r,void 0))},t.prototype.markQueryResultClient=function(t,r){this.store[t]&&(this.store[t].networkError=null,this.store[t].previousVariables=null,this.store[t].networkStatus=r?e.NetworkStatus.ready:e.NetworkStatus.loading)},t.prototype.stopQuery=function(e){delete this.store[e]},t.prototype.reset=function(t){var r=this;this.store=Object.keys(this.store).filter(function(e){return t.indexOf(e)>-1}).reduce(function(t,n){return t[n]=w({},r.store[n],{networkStatus:e.NetworkStatus.loading}),t},{})},t}(),Q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},O={listeners:[],invalidated:!1,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]},q=function(){function r(e){var r=e.link,n=e.queryDeduplication,i=void 0!==n&&n,a=e.store,u=e.onBroadcast,s=void 0===u?function(){}:u,c=e.ssrMode,l=void 0!==c&&c;this.mutationStore=new g,this.queryStore=new k,this.idCounter=1,this.queries=new Map,this.fetchQueryPromises=new Map,this.queryIdsByName={},this.link=r,this.deduplicator=t.ApolloLink.from([new o.DedupLink,r]),this.queryDeduplication=i,this.dataStore=a,this.onBroadcast=s,this.scheduler=new b({queryManager:this,ssrMode:l})}return r.prototype.mutate=function(e){var r=this,o=e.mutation,a=e.variables,u=e.optimisticResponse,s=e.updateQueries,c=e.refetchQueries,l=void 0===c?[]:c,f=e.update,h=e.errorPolicy,d=void 0===h?"none":h,y=e.fetchPolicy,v=e.context,m=void 0===v?{}:v;if(!o)throw new Error("mutation option is required. You must specify your GraphQL document in the mutation option.");if(y&&"no-cache"!==y)throw new Error("fetchPolicy for mutations currently only supports the 'no-cache' policy");var b=this.generateQueryId(),g=this.dataStore.getCache();o=g.transformDocument(o),a=n.assign({},n.getDefaultValues(n.getMutationDefinition(o)),a);var w=i.print(o);this.setQuery(b,function(){return{document:o}});var k=function(){var e={};return s&&Object.keys(s).forEach(function(t){return(r.queryIdsByName[t]||[]).forEach(function(n){e[n]={updater:s[t],query:r.queryStore.get(n)}})}),e};return this.mutationStore.initMutation(b,w,a),this.dataStore.markMutationInit({mutationId:b,document:o,variables:a||{},updateQueries:k(),update:f,optimisticResponse:u}),this.broadcastQueries(),new Promise(function(e,n){var i,s,c=r.buildOperationForLink(o,a,Q({},m,{optimisticResponse:u}));t.execute(r.link,c).subscribe({next:function(e){return e.errors&&"none"===d?void(s=new p({graphQLErrors:e.errors})):(r.mutationStore.markMutationResult(b),"no-cache"!==y&&r.dataStore.markMutationResult({mutationId:b,result:e,document:o,variables:a||{},updateQueries:k(),update:f}),void(i=e))},error:function(e){r.mutationStore.markMutationError(b,e),r.dataStore.markMutationComplete({mutationId:b,optimisticResponse:u}),r.broadcastQueries(),r.setQuery(b,function(){return{document:void 0}}),n(new p({networkError:e}))},complete:function(){return s&&r.mutationStore.markMutationError(b,s),r.dataStore.markMutationComplete({mutationId:b,optimisticResponse:u}),r.broadcastQueries(),s?void n(s):("function"==typeof l&&(l=l(i)),l.forEach(function(e){return"string"==typeof e?void r.refetchQueryByName(e):void r.query({query:e.query,variables:e.variables,fetchPolicy:"network-only"})}),r.setQuery(b,function(){return{document:void 0}}),"ignore"===d&&i&&i.errors&&delete i.errors,void e(i))}})})},r.prototype.fetchQuery=function(t,r,o,a){var s,c=this,l=r.variables,f=void 0===l?{}:l,h=r.metadata,d=void 0===h?null:h,y=r.fetchPolicy,v=void 0===y?"cache-first":y,m=this.dataStore.getCache(),b=m.transformDocument(r.query),g="network-only"===v||"no-cache"===v;if(o!==e.FetchType.refetch&&"network-only"!==v&&"no-cache"!==v){var w=this.dataStore.getCache().diff({query:b,variables:f,returnPartialData:!0,optimistic:!1}),k=w.complete,Q=w.result;g=!k||"cache-and-network"===v,s=Q}var O=g&&"cache-only"!==v&&"standby"!==v;n.hasDirectives(["live"],b)&&(O=!0);var q=this.generateRequestId(),E=this.updateQueryWatch(t,b,r);this.setQuery(t,function(){return{document:b,lastRequestId:q,invalidated:!0,cancel:E}}),this.invalidate(!0,a),this.queryStore.initQuery({queryId:t,queryString:i.print(b),document:b,storePreviousVariables:O,variables:f,isPoll:o===e.FetchType.poll,isRefetch:o===e.FetchType.refetch,metadata:d,fetchMoreForQueryId:a}),this.broadcastQueries();var S=!O||"cache-and-network"===v;if(S&&(this.queryStore.markQueryResultClient(t,!O),this.invalidate(!0,t,a),this.broadcastQueries()),O){var P=this.fetchRequest({requestId:q,queryId:t,document:b,options:r,fetchMoreForQueryId:a}).catch(function(e){if(u(e))throw e;var r=c.getQuery(t).lastRequestId;throw q>=(r||1)&&(c.queryStore.markQueryError(t,e,a),c.invalidate(!0,t,a),c.broadcastQueries()),c.removeFetchQueryPromise(q),new p({networkError:e})});if("cache-and-network"!==v)return P;P.catch(function(){})}return Promise.resolve({data:s})},r.prototype.queryListenerForObserver=function(e,t,r){var i=this,o=!1;return function(u,s){if(i.invalidate(!1,e),u){var c=i.getQuery(e).observableQuery,l=c?c.options.fetchPolicy:t.fetchPolicy;if("standby"!==l){var f=c?c.options.errorPolicy:t.errorPolicy,h=c?c.getLastResult():null,d=c?c.getLastError():null,y=!s&&null!=u.previousVariables||"cache-only"===l||"cache-and-network"===l,v=Boolean(h&&u.networkStatus!==h.networkStatus),m=f&&(d&&d.graphQLErrors)!==u.graphQLErrors&&"none"!==f;if(!a(u.networkStatus)||v&&t.notifyOnNetworkStatusChange||y){if((!f||"none"===f)&&u.graphQLErrors&&u.graphQLErrors.length>0||u.networkError){var b=new p({graphQLErrors:u.graphQLErrors,networkError:u.networkError});if(o=!0,r.error)try{r.error(b)}catch(e){setTimeout(function(){throw e},0)}else setTimeout(function(){throw b},0),n.isProduction()||console.info("An unhandled error was thrown because no error handler is registered for the query "+u.queryString);return}try{var g=void 0,w=void 0;if(s)i.setQuery(e,function(){return{newData:null}}),g=s.result,w=!s.complete&&!s.complete;else if(h&&h.data&&!m)g=h.data,w=!1;else{var k=i.getQuery(e).document,Q=i.dataStore.getCache().diff({query:k,variables:u.previousVariables||u.variables,optimistic:!0});g=Q.result,w=!Q.complete}var O=void 0;if(O=w&&"cache-only"!==l?{data:h&&h.data,loading:a(u.networkStatus),networkStatus:u.networkStatus,stale:!0}:{data:g,loading:a(u.networkStatus),networkStatus:u.networkStatus,stale:!1},"all"===f&&u.graphQLErrors&&u.graphQLErrors.length>0&&(O.errors=u.graphQLErrors),r.next){var q=!(h&&O&&h.networkStatus===O.networkStatus&&h.stale===O.stale&&h.data===O.data);if(q||o)try{r.next(n.maybeDeepFreeze(O))}catch(e){setTimeout(function(){throw e},0)}}o=!1}catch(e){return o=!0,void(r.error&&r.error(new p({networkError:e})))}}}}}},r.prototype.watchQuery=function(e,t){if(void 0===t&&(t=!0),"standby"===e.fetchPolicy)throw new Error('client.watchQuery cannot be called with fetchPolicy set to "standby"');var r=n.getQueryDefinition(e.query);if(r.variableDefinitions&&r.variableDefinitions.length){var i=n.getDefaultValues(r);e.variables=n.assign({},i,e.variables)}"undefined"==typeof e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var o=Q({},e);return new v({scheduler:this.scheduler,options:o,shouldSubscribe:t})},r.prototype.query=function(e){var t=this;if(!e.query)throw new Error("query option is required. You must specify your GraphQL document in the query option.");if("Document"!==e.query.kind)throw new Error('You must wrap the query string in a "gql" tag.');if(e.returnPartialData)throw new Error("returnPartialData option only supported on watchQuery.");if(e.pollInterval)throw new Error("pollInterval option only supported on watchQuery.");if("undefined"!=typeof e.notifyOnNetworkStatusChange)throw new Error('Cannot call "query" with "notifyOnNetworkStatusChange" option. Only "watchQuery" has that option.');e.notifyOnNetworkStatusChange=!1;var r=this.idCounter,n=new Promise(function(i,o){return t.addFetchQueryPromise(r,n,i,o),t.watchQuery(e,!1).result().then(function(e){t.removeFetchQueryPromise(r),i(e)}).catch(function(e){t.removeFetchQueryPromise(r),o(e)})});return n},r.prototype.generateQueryId=function(){var e=this.idCounter.toString();return this.idCounter++,e},r.prototype.stopQueryInStore=function(e){this.queryStore.stopQuery(e),this.invalidate(!0,e),this.broadcastQueries()},r.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){var r=e.listeners,n=void 0===r?[]:r;return{listeners:n.concat([t]),invalidate:!1}})},r.prototype.updateQueryWatch=function(e,t,r){var n=this,i=this.getQuery(e).cancel;i&&i();var o=function(){var t=null,r=n.getQuery(e).observableQuery;if(r){var i=r.getLastResult();i&&(t=i.data)}return t};return this.dataStore.getCache().watch({query:t,variables:r.variables,optimistic:!0,previousResult:o,callback:function(t){n.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},r.prototype.addFetchQueryPromise=function(e,t,r,n){this.fetchQueryPromises.set(e.toString(),{promise:t,resolve:r,reject:n})},r.prototype.removeFetchQueryPromise=function(e){this.fetchQueryPromises.delete(e.toString())},r.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}});var r=n.getQueryDefinition(t.options.query);if(r.name&&r.name.value){var i=r.name.value;this.queryIdsByName[i]=this.queryIdsByName[i]||[],this.queryIdsByName[i].push(t.queryId)}},r.prototype.removeObservableQuery=function(e){var t=this.getQuery(e),r=t.observableQuery,i=t.cancel;if(i&&i(),r){var o=n.getQueryDefinition(r.options.query),a=o.name?o.name.value:null;this.setQuery(e,function(){return{observableQuery:null}}),a&&(this.queryIdsByName[a]=this.queryIdsByName[a].filter(function(e){return!(r.queryId===e)}))}},r.prototype.resetStore=function(){this.fetchQueryPromises.forEach(function(e){var t=e.reject;t(new Error("Store reset while query was in flight."))});var e=[];this.queries.forEach(function(t,r){var n=t.observableQuery;n&&e.push(r)}),this.queryStore.reset(e),this.mutationStore.reset();var t=this.dataStore.reset(),r=this.getObservableQueryPromises();return this.broadcastQueries(),t.then(function(){return Promise.all(r)})},r.prototype.getObservableQueryPromises=function(e){var t=this,r=[];return this.queries.forEach(function(n,i){var o=n.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||r.push(o.refetch()),t.setQuery(i,function(){return{newData:null}}),t.invalidate(!0,i)}}),r},r.prototype.reFetchObservableQueries=function(e){var t=this.getObservableQueryPromises(e);return this.broadcastQueries(),Promise.all(t)},r.prototype.startQuery=function(e,t,r){return this.addQueryListener(e,r),this.fetchQuery(e,t).catch(function(){}),e},r.prototype.startGraphQLSubscription=function(e){var r,i=this,o=e.query,a=this.dataStore.getCache(),u=a.transformDocument(o),s=n.assign({},n.getDefaultValues(n.getOperationDefinition(o)),e.variables),l=[];return new c(function(e){if(l.push(e),1===l.length){var n={next:function(e){i.dataStore.markSubscriptionResult(e,u,s),i.broadcastQueries(),l.forEach(function(t){t.next&&t.next(e)})},error:function(e){l.forEach(function(t){t.error&&t.error(e)})}},o=i.buildOperationForLink(u,s);r=t.execute(i.link,o).subscribe(n)}return function(){l=l.filter(function(t){return t!==e}),0===l.length&&r&&r.unsubscribe()}})},r.prototype.stopQuery=function(e){this.removeQuery(e),this.stopQueryInStore(e)},r.prototype.removeQuery=function(e){var t=this.getQuery(e).subscriptions;t.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},r.prototype.getCurrentQueryResult=function(e){var t=e.options,r=t.variables,i=t.query,o=e.getLastResult(),a=this.getQuery(e.queryId).newData;if(a)return n.maybeDeepFreeze({data:a.result,partial:!1});try{var u=this.dataStore.getCache().read({query:i,variables:r,previousResult:o?o.data:void 0,optimistic:!0});return n.maybeDeepFreeze({data:u,partial:!1})}catch(e){return n.maybeDeepFreeze({data:{},partial:!0})}},r.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var r=this.getQuery(e).observableQuery;if(!r)throw new Error("ObservableQuery with this id doesn't exist: "+e);t=r}else t=e;var n=t.options,i=n.variables,o=n.query,a=this.getCurrentQueryResult(t).data;return{previousResult:a,variables:i,document:o}},r.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,r){t.invalidated&&t.listeners&&t.listeners.filter(function(e){return!!e}).forEach(function(n){n(e.queryStore.get(r),t.newData)})})},r.prototype.fetchRequest=function(r){var n,i,o=this,a=r.requestId,u=r.queryId,s=r.document,c=r.options,l=r.fetchMoreForQueryId,f=c.variables,h=c.context,d=c.errorPolicy,y=void 0===d?"none":d,v=c.fetchPolicy,m=this.buildOperationForLink(s,f,Q({},h,{forceFetch:!this.queryDeduplication})),b=new Promise(function(r,c){o.addFetchQueryPromise(a,b,r,c);var h=t.execute(o.deduplicator,m).subscribe({next:function(e){var t=o.getQuery(u).lastRequestId;if(a>=(t||1)){if("no-cache"!==v)try{o.dataStore.markQueryResult(e,s,f,l,"ignore"===y||"all"===y)}catch(e){return void c(e)}o.queryStore.markQueryResult(u,e,l),o.invalidate(!0,u,l),o.broadcastQueries()}if(e.errors&&"none"===y)return void c(new p({graphQLErrors:e.errors}));if("all"===y&&(i=e.errors),l)n=e.data;else try{n=o.dataStore.getCache().read({variables:f,query:s,optimistic:!1})}catch(e){}},error:function(e){o.removeFetchQueryPromise(a),o.setQuery(u,function(e){var t=e.subscriptions;return{subscriptions:t.filter(function(e){return e!==h})}}),c(e)},complete:function(){o.removeFetchQueryPromise(a),o.setQuery(u,function(e){var t=e.subscriptions;return{subscriptions:t.filter(function(e){return e!==h})}}),r({data:n,errors:i,loading:!1,networkStatus:e.NetworkStatus.ready,stale:!1})}});o.setQuery(u,function(e){var t=e.subscriptions;return{subscriptions:t.concat([h])}})});return b},r.prototype.refetchQueryByName=function(e){var t=this,r=this.queryIdsByName[e];if(void 0!==r)return Promise.all(r.map(function(e){return t.getQuery(e).observableQuery;
}).filter(function(e){return!!e}).map(function(e){return e.refetch()}))},r.prototype.generateRequestId=function(){var e=this.idCounter;return this.idCounter++,e},r.prototype.getQuery=function(e){return this.queries.get(e)||Q({},O)},r.prototype.setQuery=function(e,t){var r=this.getQuery(e),n=Q({},r,t(r));this.queries.set(e,n)},r.prototype.invalidate=function(e,t,r){t&&this.setQuery(t,function(){return{invalidated:e}}),r&&this.setQuery(r,function(){return{invalidated:e}})},r.prototype.buildOperationForLink=function(e,t,r){var i=this.dataStore.getCache();return{query:i.transformForLink?i.transformForLink(e):e,variables:t,operationName:n.getOperationName(e)||void 0,context:Q({},r,{cache:i,getCacheKey:function(e){if(i.config)return i.config.dataIdFromObject(e);throw new Error("To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}})}},r}(),E=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,r,i,o){void 0===o&&(o=!1);var a=!n.graphQLResultHasError(e);o&&n.graphQLResultHasError(e)&&e.data&&(a=!0),!i&&a&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})},e.prototype.markSubscriptionResult=function(e,t,r){n.graphQLResultHasError(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})},e.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var r;r="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse;var n=function(){t.markMutationResult({mutationId:e.mutationId,result:{data:r},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})};this.cache.recordOptimisticTransaction(function(e){var r=t.cache;t.cache=e;try{n()}finally{t.cache=r}},e.mutationId)}},e.prototype.markMutationResult=function(e){var t=this;if(!n.graphQLResultHasError(e.result)){var r=[];r.push({result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),e.updateQueries&&Object.keys(e.updateQueries).filter(function(t){return e.updateQueries[t]}).forEach(function(i){var o=e.updateQueries[i],a=o.query,u=o.updater,s=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),c=s.result,l=s.complete;if(l){var f=n.tryFunctionOrLogError(function(){return u(c,{mutationResult:e.result,queryName:n.getOperationName(a.document)||void 0,queryVariables:a.variables})});f&&r.push({result:f,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}),this.cache.performTransaction(function(e){r.forEach(function(t){return e.write(t)})});var i=e.update;i&&this.cache.performTransaction(function(t){n.tryFunctionOrLogError(function(){return i(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId,r=e.optimisticResponse;r&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),S="2.2.5",P=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},D=!1,F=new t.ApolloLink(function(e,t){return e.query=n.removeConnectionDirectiveFromDocument(e.query),t(e)}),I=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[];var r=e.link,i=e.cache,o=e.ssrMode,a=void 0!==o&&o,u=e.ssrForceFetchDelay,s=void 0===u?0:u,c=e.connectToDevTools,l=e.queryDeduplication,f=void 0===l||l,p=e.defaultOptions;if(!r||!i)throw new Error("\n        In order to initialize Apollo Client, you must specify link & cache properties on the config object.\n        This is part of the required upgrade when migrating from Apollo Client 1.0 to Apollo Client 2.0.\n        For more information, please visit:\n          https://www.apollographql.com/docs/react/basics/setup.html\n        to help you get started.\n      ");this.link=F.concat(r),this.cache=i,this.store=new E(i),this.disableNetworkFetches=a||s>0,this.queryDeduplication=f,this.ssrMode=a,this.defaultOptions=p||{},s&&setTimeout(function(){return t.disableNetworkFetches=!1},s),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var h=!n.isProduction()&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;("undefined"==typeof c?h:c&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),D||n.isProduction()||(D=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&"undefined"==typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=S}return e.prototype.watchQuery=function(e){return this.initQueryManager(),this.defaultOptions.watchQuery&&(e=P({},this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=P({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){if(this.initQueryManager(),this.defaultOptions.query&&(e=P({},this.defaultOptions.query,e)),"cache-and-network"===e.fetchPolicy)throw new Error("cache-and-network fetchPolicy can only be used with watchQuery");return this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=P({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.initQueryManager(),this.defaultOptions.mutate&&(e=P({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.initQueryManager(),this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e){return this.initProxy().readQuery(e)},e.prototype.readFragment=function(e){return this.initProxy().readFragment(e)},e.prototype.writeQuery=function(e){var t=this.initProxy().writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.initProxy().writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.initProxy().writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return t.execute(this.link,e)},e.prototype.initQueryManager=function(){var e=this;this.queryManager||(this.queryManager=new q({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}}))},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){e.queryManager?e.queryManager.resetStore():Promise.resolve(null)}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager?this.queryManager.reFetchObservableQueries(e):Promise.resolve(null)},e.prototype.extract=function(e){return this.initProxy().extract(e)},e.prototype.restore=function(e){return this.initProxy().restore(e)},e.prototype.initProxy=function(){return this.proxy||(this.initQueryManager(),this.proxy=this.cache),this.proxy},e}();e.printAST=i.print,e.ApolloClient=I,e.default=I,e.ObservableQuery=v,e.ApolloError=p,Object.defineProperty(e,"__esModule",{value:!0})})},{"apollo-link":3,"apollo-link-dedup":2,"apollo-utilities":4,"graphql/language/printer":5,"symbol-observable":7}]},{},[]);